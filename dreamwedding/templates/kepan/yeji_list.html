{% extends "./base.html" %}

{% block body %}
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md6">
            <div class="layui-card">
                <div class="layui-card-header">数据展示</div>
                <div class="layui-card-body" id="main" style="width: 95%; height: 520px">
                    <script type="text/javascript">
                        // 初始化echarts实例
                        var myChart = echarts.init(document.getElementById('main'));

                        var option = {
                            title : {
                                text: '套系比例图',
                                subtext: '所有套系比例',
                                x:'center'
                            },
                            tooltip : {
                                trigger: 'item',
                                formatter: "{a} <br/>{b} : {c} ({d}%)"
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                                data: ['4999套系', '5999套系', '6999套系', '7999套系', '8999套系']
                            },
                            series : [
                                {
                                    name: '套系金额比例',
                                    type: 'pie',
                                    radius : '55%',
                                    center: ['50%', '60%'],
                                    data:[
                                        {value:{{ tx_4999|safe }}, name:'4999套系'},
                                        {value:{{ tx_5999|safe }}, name:'5999套系'},
                                        {value:{{ tx_6999|safe }}, name:'6999套系'},
                                        {value:{{ tx_7999|safe }}, name:'7999套系'},
                                        {value:{{ tx_8999|safe }}, name:'8999套系'}
                                    ],
                                    itemStyle: {
                                        emphasis: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };

                        //
                        myChart.setOption(option);
                        window.onresize = myChart.resize;
                    </script>
                </div>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <div class="layui-card-header">数据展示</div>
                <div class="layui-card-body">
                    <div class="layui-card-body" id="yeji" style="width: 95%; height: 500px">
                    <script>
                        var myChart = echarts.init(document.getElementById('yeji'));

                        var option = {
                            title: {
                                text: '设计师出件量（上月）',
                                subtext: '当月设计师总出件量',
                                x: 'center',
                            },
                            color: ['#3398DB'],
                            tooltip : {
                                trigger: 'axis',
                                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                }
                            },
                            grid: {
                                left: '3%',
                                right: '4%',
                                bottom: '3%',
                                containLabel: true
                            },
                            xAxis : [
                                {
                                    type : 'category',
                                    data : {{ owner|safe }},
                                    axisTick: {
                                        alignWithLabel: true
                                    }
                                }
                            ],
                            yAxis : [
                                {
                                    type : 'value'
                                }
                            ],
                            series : [
                                {
                                    name:'当月出件量',
                                    type:'bar',
                                    barWidth: '60%',
                                    data:{{ owner_count|safe }},
                                }
                            ]
                        };

                        myChart.setOption(option);
                        window.onresize = myChart.resize;
                    </script>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">数据展示</div>
                    <div class="layui-card-body" style="width: 95%; height: 400px" id="tx_chujian">
                        <script>
                            var myChart = echarts.init(document.getElementById('tx_chujian'))

                            var option = {
                                title: {
                                    text: '堆叠区域图'
                                },
                                tooltip : {
                                    trigger: 'axis',
                                    axisPointer: {
                                        type: 'cross',
                                        label: {
                                            backgroundColor: '#6a7985'
                                        }
                                    }
                                },
                                legend: {
                                    data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
                                },
                                toolbox: {
                                    feature: {
                                        saveAsImage: {}
                                    }
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                xAxis : [
                                    {
                                        type : 'category',
                                        boundaryGap : false,
                                        data : ['周一','周二','周三','周四','周五','周六','周日']
                                    }
                                ],
                                yAxis : [
                                    {
                                        type : 'value'
                                    }
                                ],
                                series : [
                                    {
                                        name:'搜索引擎',
                                        type:'line',
                                        stack: '总量',
                                        label: {
                                            normal: {
                                                show: true,
                                                position: 'top'
                                            }
                                        },
                                        areaStyle: {normal: {}},
                                        data:[200, 250, 100, 230, 300, 150, 186]
                                    }
                                ]
                            };

                            myChart.setOption(option);
                            window.onresize = myChart.resize;
                        </script>
                    </div>
                </div>
            </div>
    </div>
</div>
{% endblock %}